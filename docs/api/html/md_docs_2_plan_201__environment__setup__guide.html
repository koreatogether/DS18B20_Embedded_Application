<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DS18B20 Embedded Application: DS18B20 프로젝트 환경 구축 가이드</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DS18B20 Embedded Application
   </div>
   <div id="projectbrief">Arduino UNO R4 WiFi 기반 DS18B20 온도센서/메모리 분석 시스템 문서화</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_docs_2_plan_201__environment__setup__guide.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DS18B20 프로젝트 환경 구축 가이드 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>이 문서는 DS18B20 임베디드 애플리케이션 프로젝트의 환경 구축 과정을 단계별로 설명합니다. 각 항목은 프로젝트 계획(frimePlan.md)의 체크리스트 항목에 해당합니다.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
1. 프로젝트 기본 환경 구축</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
1.1 PlatformIO 초기화 및 보드 설정</h2>
<p>Arduino UNO R4 WiFi 보드를 위한 PlatformIO 프로젝트를 초기화하는 과정입니다.</p>
<div class="fragment"><div class="line"># PlatformIO 프로젝트 초기화 명령</div>
<div class="line">pio project init --board uno_r4_wifi</div>
</div><!-- fragment --><p>생성된 <span class="tt">platformio.ini</span> 파일에서 기본 보드 설정을 확인할 수 있습니다:</p>
<div class="fragment"><div class="line">[env:uno_r4_wifi]</div>
<div class="line">platform = renesas-ra</div>
<div class="line">board = uno_r4_wifi</div>
<div class="line">framework = arduino</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
1.2 라이브러리 의존성 관리</h2>
<p>프로젝트에 필요한 라이브러리(DS18B20 센서 사용을 위한 OneWire, DallasTemperature)를 설정합니다.</p>
<div class="fragment"><div class="line"># platformio.ini에 라이브러리 의존성 추가</div>
<div class="line">lib_deps =</div>
<div class="line">    milesburton/DallasTemperature</div>
<div class="line">    paulstoffregen/OneWire</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
1.3 빌드 옵션 설정</h2>
<p>Arduino IDE 기본 빌드 수준에 맞는 옵션을 추가합니다.</p>
<div class="fragment"><div class="line"># platformio.ini에 빌드 플래그 추가</div>
<div class="line">build_flags =</div>
<div class="line">    -Wall</div>
<div class="line">    -Os</div>
<div class="line">    -std=gnu++17</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
1.4 테스트 환경 구성</h2>
<p>Unity 프레임워크 기반의 테스트 환경을 구축합니다. Native(PC) 환경에서 테스트를 실행할 수 있도록 설정합니다.</p>
<div class="fragment"><div class="line"># platformio.ini에 테스트 설정 추가</div>
<div class="line">[test]</div>
<div class="line">test_framework = unity</div>
<div class="line">test_build_src = yes</div>
<div class="line">test_ignore = mocks</div>
<div class="line"> </div>
<div class="line">[env:native]</div>
<div class="line">platform = native</div>
<div class="line">build_flags =</div>
<div class="line">    -std=gnu++17</div>
<div class="line">    -Wall</div>
</div><!-- fragment --><p>테스트 코드는 <span class="tt">test</span> 폴더에 작성하며, Unity 인클루드를 다음과 같이 사용합니다:</p>
<div class="fragment"><div class="line"><span class="comment">// test/test_sample.c</span></div>
<div class="line"><span class="preprocessor">#include &lt;unity.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> test_addition(<span class="keywordtype">void</span>) {</div>
<div class="line">    TEST_ASSERT_EQUAL_INT(4, 2 + 2);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setUp(<span class="keywordtype">void</span>) {}</div>
<div class="line"><span class="keywordtype">void</span> tearDown(<span class="keywordtype">void</span>) {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    UNITY_BEGIN();</div>
<div class="line">    RUN_TEST(test_addition);</div>
<div class="line">    <span class="keywordflow">return</span> UNITY_END();</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
1.5 테스트 실행</h2>
<p>PlatformIO IDE의 테스트 버튼을 사용하거나, 아래 명령어로 테스트를 실행합니다:</p>
<div class="fragment"><div class="line"># Native 환경에서 테스트 실행</div>
<div class="line">pio test -e native</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
1.6 .gitignore 및 .vscode 설정</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
.gitignore 설정</h3>
<p>PlatformIO, VS Code, 빌드 산출물 등 불필요한 파일이 Git에 포함되지 않도록 <span class="tt">.gitignore</span> 파일을 아래와 같이 작성합니다.</p>
<div class="fragment"><div class="line"># PlatformIO</div>
<div class="line">.pio/</div>
<div class="line">.vscode/</div>
<div class="line">build/</div>
<div class="line">libdeps/</div>
<div class="line">*.pyc</div>
<div class="line">__pycache__/</div>
<div class="line">*.elf</div>
<div class="line">*.bin</div>
<div class="line">*.hex</div>
<div class="line"> </div>
<div class="line"># OS/Editor</div>
<div class="line">.DS_Store</div>
<div class="line">Thumbs.db</div>
<div class="line"> </div>
<div class="line"># 기타</div>
<div class="line">*.log</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
.vscode 설정</h3>
<p>VS Code에서 프로젝트를 일관되게 관리하기 위해 <span class="tt">.vscode</span> 폴더에 아래와 같은 파일을 둡니다.</p>
<ul>
<li><span class="tt">extensions.json</span>: 추천 확장 목록</li>
<li><span class="tt">settings.json</span>: 워크스페이스별 설정(선택)</li>
</ul>
<p>예시: <span class="tt">.vscode/extensions.json</span> </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;recommendations&quot;: [</div>
<div class="line">    &quot;platformio.platformio-ide&quot;,</div>
<div class="line">    &quot;ms-vscode.cpptools&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;unwantedRecommendations&quot;: [</div>
<div class="line">    &quot;ms-vscode.cpptools-extension-pack&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>예시: <span class="tt">.vscode/settings.json</span> </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;files.exclude&quot;: {</div>
<div class="line">    &quot;**/.pio&quot;: true,</div>
<div class="line">    &quot;**/libdeps&quot;: true</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>이렇게 하면 팀원이나 다른 개발자가 프로젝트를 열었을 때 불필요한 파일이 Git에 포함되지 않고, VS Code 환경도 일관되게 유지할 수 있습니다.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
2. Git 버전 관리 설정</h1>
<p>프로젝트의 버전 관리를 위한 Git 저장소를 초기화하고 GitHub에 연결합니다.</p>
<div class="fragment"><div class="line"># Git 초기화</div>
<div class="line">git init</div>
<div class="line"> </div>
<div class="line"># GitHub 원격 저장소 연결</div>
<div class="line">git remote add origin https://github.com/username/DS18B20_Embedded_Application.git</div>
<div class="line"> </div>
<div class="line"># 첫 커밋 및 푸시</div>
<div class="line">git add .</div>
<div class="line">git commit -m &quot;Initial commit&quot;</div>
<div class="line">git branch -M main</div>
<div class="line">git push -u origin main</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
3. 프로젝트 구조 설정</h1>
<p>이 프로젝트는 클린 아키텍처 및 SOLID 원칙을 따르는 계층적 구조를 사용합니다. 다음 단계는 아래 폴더 구조를 정립하고 구현을 시작하는 것입니다:</p>
<p>docs/ (설계, 분석, 사용자 가이드) src/domain/ (하드웨어 독립적 비즈니스 로직) src/application/ (유스케이스 구현) src/infrastructure/ (하드웨어 인터페이스, 통신) test(PC 기반 유닛 테스트) test/integration/ (하드웨어 기반 통합 테스트) tools/ (자동화 도구, 스크립트)</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
4. 의존성 설정</h1>
<p>이 단계는 본 프로젝트의 규모로는 hand written mock 방식 (mock 직접 구현 ) 으로 충분함.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
5. CI/CD 파이프라인 개요</h1>
<p>이 프로젝트는 GitHub Actions 기반의 CI/CD 파이프라인을 통해 코드 변경 시 자동으로 빌드, 테스트, 정적분석을 실행합니다. CI/CD의 목적은 다음과 같습니다:</p><ul>
<li>코드 품질 자동 검증(빌드, 테스트, 정적분석)</li>
<li>빌드 산출물(펌웨어) 자동 배포</li>
<li>협업 및 유지보수 효율 향상</li>
</ul>
<p>구체적인 워크플로우 설정 및 활용법은 다음 장에서 다룹니다.</p>
<div class="fragment"><div class="line">name: PlatformIO CI</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    runs-on: ubuntu-latest</div>
<div class="line">    steps:</div>
<div class="line">      - name: Checkout code</div>
<div class="line">        uses: actions/checkout@v4</div>
<div class="line"> </div>
<div class="line">      - name: Set up Python</div>
<div class="line">        uses: actions/setup-python@v5</div>
<div class="line">        with:</div>
<div class="line">          python-version: &#39;3.x&#39;</div>
<div class="line"> </div>
<div class="line">      - name: Install PlatformIO</div>
<div class="line">        run: |</div>
<div class="line">          python -m pip install --upgrade pip</div>
<div class="line">          pip install platformio</div>
<div class="line"> </div>
<div class="line">      - name: Build (uno_r4_wifi)</div>
<div class="line">        run: pio run -e uno_r4_wifi</div>
<div class="line"> </div>
<div class="line">      - name: Run native unit tests</div>
<div class="line">        run: pio test -e native</div>
<div class="line"> </div>
<div class="line">      - name: Show firmware size</div>
<div class="line">        run: pio run -e uno_r4_wifi --target size</div>
<div class="line"> </div>
<div class="line">      - name: Upload build artifacts</div>
<div class="line">        if: always()</div>
<div class="line">        uses: actions/upload-artifact@v4</div>
<div class="line">        with:</div>
<div class="line">          name: firmware</div>
<div class="line">          path: |</div>
<div class="line">            .pio/build/uno_r4_wifi/*.elf</div>
<div class="line">            .pio/build/uno_r4_wifi/*.bin</div>
<div class="line">            .pio/build/uno_r4_wifi/*.hex</div>
<div class="line"> </div>
<div class="line">      - name: Run cppcheck (static analysis)</div>
<div class="line">        run: |</div>
<div class="line">          pip install cppcheck</div>
<div class="line">          cppcheck --enable=all --inconclusive --std=c++17 --quiet --suppress=missingIncludeSystem src/</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
6. GitHub Actions 적용 이후 자동화 과정</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
6.1 워크플로우(main.yml) 파일 생성 및 커밋</h2>
<ul>
<li><span class="tt">.github/workflows/main.yml</span> 파일을 생성하고, 아래와 같이 작성합니다.</li>
<li>커밋 후 push하면 GitHub Actions가 자동으로 동작합니다.</li>
</ul>
<div class="fragment"><div class="line">name: PlatformIO CI</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    runs-on: ubuntu-latest</div>
<div class="line">    steps:</div>
<div class="line">      - name: Checkout code</div>
<div class="line">        uses: actions/checkout@v4</div>
<div class="line"> </div>
<div class="line">      - name: Set up Python</div>
<div class="line">        uses: actions/setup-python@v5</div>
<div class="line">        with:</div>
<div class="line">          python-version: &#39;3.x&#39;</div>
<div class="line"> </div>
<div class="line">      - name: Install PlatformIO</div>
<div class="line">        run: |</div>
<div class="line">          python -m pip install --upgrade pip</div>
<div class="line">          pip install platformio</div>
<div class="line"> </div>
<div class="line">      - name: Build (uno_r4_wifi)</div>
<div class="line">        run: pio run -e uno_r4_wifi</div>
<div class="line"> </div>
<div class="line">      - name: Run native unit tests</div>
<div class="line">        run: pio test -e native</div>
<div class="line"> </div>
<div class="line">      - name: Show firmware size</div>
<div class="line">        run: pio run -e uno_r4_wifi --target size</div>
<div class="line"> </div>
<div class="line">      - name: Upload build artifacts</div>
<div class="line">        if: always()</div>
<div class="line">        uses: actions/upload-artifact@v4</div>
<div class="line">        with:</div>
<div class="line">          name: firmware</div>
<div class="line">          path: |</div>
<div class="line">            .pio/build/uno_r4_wifi/*.elf</div>
<div class="line">            .pio/build/uno_r4_wifi/*.bin</div>
<div class="line">            .pio/build/uno_r4_wifi/*.hex</div>
<div class="line"> </div>
<div class="line">      - name: Run cppcheck (static analysis)</div>
<div class="line">        run: |</div>
<div class="line">          pip install cppcheck</div>
<div class="line">          cppcheck --enable=all --inconclusive --std=c++17 --quiet --suppress=missingIncludeSystem src/</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
6.2 자동화 결과 확인 및 활용</h2>
<ul>
<li>GitHub 저장소의 Actions 탭에서 빌드/테스트/정적분석 결과를 확인할 수 있습니다.</li>
<li>빌드 산출물(펌웨어)은 Artifacts로 자동 업로드되어, 언제든 다운로드 및 배포가 가능합니다.</li>
<li>cppcheck를 통한 정적 분석 결과로 코드 품질을 자동으로 점검할 수 있습니다.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
6.3 요약</h2>
<ul>
<li>코드 push/PR 시 자동으로 빌드, 테스트, 정적분석이 실행되어 품질을 보장합니다.</li>
<li>CI/CD 파이프라인이 완성되어, 협업 및 유지보수 효율이 크게 향상됩니다. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
